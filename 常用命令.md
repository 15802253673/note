# Git命令

### git常用命令

* ```git branch``` 查看本地仓库

* ```git branch -a   ``` 查看全部分支

* `git branch -r`  查看远程仓库

* `git branch 分支名 `  创建本地分支

* `git branch -d 分支名 `  删除本地仓库

* `git checkout -b 分支名` 复制当前所在分支创建新分支

* `git checkout -b 本地分支名 origin/远程分支名 ` 复制指定远程分支并创建本地分支

* ` git merge 分支名 `  合并分支（将当前分支合并到指定分支）

* `git reset` 撤销全部标记文件( *  或者 .  全部)

* `git reset --head 文件名` 撤销指定标记文件

* **情况一：撤销指定文件到指定版本**

  ```reStructuredText
  查看指定文件的历史版本
  git log <filename>
  回滚到指定commitID
  git checkout <commitID> <filename>
  ```

* **情况二：删除最后一次远程提交**(回滚版本)

  * *方式一：使用revert*

  ```reStructuredText
  git revert HEAD
  git push origin master
  ```

  - *方式二：使用reset*

  ```reStructuredText
  git reset --hard HEAD
  git push origin master -f
  ```

  *二者区别：*

  - **revert**是放弃指定提交的修改，但是会生成一次新的提交，需要填写提交注释，以前的历史记录都在；
  - **reset**是指将HEAD指针指到指定提交，历史记录中不会出现放弃的提交记录。

* ```git pull``` 拉取最新代码

* `git add 文件名 `  标记文件(*或者. 全部)

* `rm 文件名`  删除本地未被追踪文件

* `git rm 文件名`  删除文件

* `git rm -r 文件夹名 ` 删除文件夹

* ```git commit -m '注释'```  提交文件

* ```git push```  提交文件推送到远程

* `  git push origin 分支名 `  将新分支发布到远端仓库

* `git push origin 分支名 --force` 强制推送

* ` git push origin :分支名 `  删除远端一个分支   (分支名前的冒号代表删除) 

* `git remote -v` 查看远程仓库地址

* `git show <commitID> ` 查看指定log日志

### 代码冲突解决

1. `git stash` 本地备份
2. `git pull` 更新代码
3. `git stash pop` 将备份代码跟更新代码合并

# Linux命令

* `copy` 复制文件

  ```reStructuredText
   将包整体上传到bankApi的common下
   copy eft-bank-api-icbtarget\bank_icbc.jar D:\common\bank_icbc.jar
  ```

* `mkdir 文件夹名` 创建文件夹

* `rm -rf 文件名 ` 删除文件

* `mv ` 移动

  ```reStructuredText
  将文件移动到指定目录底下，也可以移动时修改文件名相当于修改文件名称
  mv bank_abc.jar ../abc/bank_abc.jar
  ```

* `mv bank_abc.jar bank_abc.jar.abt ` 修改文件名称

* `java -jar` 启动jar包

* ```reStructuredText
  nohup java -jar bank_jar --spring.profile.test --server.port=38001
  ```

* `ls -als` 所有文件

* `ll -als` 所有文件

* `sz 文件名` 下载文件

* `rz` 上传文件

* `ps -ef|grep 文件名` 搜索文件并显示信息

* `kill -9 进程号` 杀死进程

* `su - root` 切换账号

* `lsof -i:端口号` 查看端口号信息

* `netstat -ntlp|grep 端口号` 查看端口号信息

* `tial -f nohup.out` 查看启动日志

# Consul命令

- `consul -v` 查看版本

- 启动创建节点和数据中心名

  ```shell
  dev模式启动（临时启动，无存储文件）
  consul agent -dev
  consul agent -dev -node mynode -datacenter mydc
  
  server启动方法一（本地存储文件）
  consul agent -server -bootstrap  -ui -node mynode -datacenter mydc -data-dir=/usr/data/consul_data
  
  server启动方法二（本地存储文件）
  -bind 绑定本地IP
  -client 对外连接IP（不指定默认是localhost或者1270.0.1访问）
  consul agent -server -bootstrap -bind 192.168.173.40 -client 192.168.173.40 -ui -node mynode -datacenter mydc -data-dir=D:/consul_data
  ```

- `consul kv`  属性

- `consul kv put key value` 存储key value

- `consul kv get key` 获取value









